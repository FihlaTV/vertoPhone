<!DOCTYPE html>
<html >
    <meta http-equiv="Content-Security-Policy" content="img-src *; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval' http://cdnjs.cloudflare.com ">
    <head>
        <title>Video</title>
        <link rel="stylesheet" type="text/css" href="../../css/video.css">
        <link rel="stylesheet" type="text/css" href="../../lib/ionicons-2.0.1/css/ionicons.min.css">
    </head>
    <body ng-app="videoCall" >

            <nav id="menu"  role="navigation">
                <div class="tabs">
                    <div class="tab" ng-click="changeTab('m')" ng-class="{'active': activeTab == 'm'}">Mambers</div>
                    <div class="tab" ng-click="changeTab('c')" ng-class="{'active': activeTab == 'c'}">Chat</div>
                </div>
                <div ng-show="activeTab == 'm'" class="members">
                    <div class="list-group">
                        <ul>
                           <li  ng-class="{'active' : m.id == selectedMemberId}" ng-repeat-start="m in members">
                                <div ng-click="selectMember(m.id)" class="picture"><img src="../../images/defaultUserPic.png"/>
                                    <div ng-if="m.status.audio.talking" class="badge green">
                                        <i class="ion-ios-pulse"></i>
                                    </div>
                                    <div ng-if="m.status.audio.muted" class="badge red">
                                        <i class="ion-android-microphone-off"></i>
                                    </div>
                                </div>
                                <div ng-click="selectMember(m.id)" class="content">
                                    <div class="title">{{m.name}}</div>
                                    <div class="description">
                                        <div class="location"><i class="fa fa-map-marker"></i>
                                            <span>{{m.email || m.number}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="footer">
                                    <div ng-if="m.status.video.floor && m.status.video.floorLocked" class="info left red">
                                        <i class="ion-locked"></i>
                                        <span>FLOOR</span>
                                    </div>
                                    <div ng-if="m.status.video.floor && !m.status.video.floorLocked" class="info left blue">
                                        <i class="ion-unlocked"></i>
                                        <span>FLOOR</span>
                                    </div>                                    
                                </div>
                                <div class="functions">
                                    <div ng-click="confToggleMuteMic(m.id, $event)" class="func">
                                        <i ng-class="{'ion-ios-mic-off': m.status.audio.muted, 'ion-ios-mic': !m.status.audio.muted}" ></i>
                                    </div>
                                    <div ng-click="confToggleMuteVid(m.id, $event)" class="func">
                                        <i ng-class="{'ion-ios-videocam': m.status.video.muted, 'ion-ios-videocam-outline': !m.status.video.muted}" ></i>
                                    </div>

                                    <div ng-click="confResID(member.id, resID)" class="func">
                                        <i class="ion-image" ></i>
                                    </div>
                                </div>
                            </li>
                        
                            <div ng-repeat-end="" ng-show="m.id == selectedMemberId" class="details">

                                <div class="functions">
                                    <div ng-click="confKick(m.id, $event)" class="func">
                                        <i class="ion-close-circled"></i>
                                    </div>
                                    <div ng-click="confSetVideoFloor(m.id, $event)" class="func">
                                        <i class="ion-arrow-shrink"></i>
                                    </div>
                                    <div ng-click="toggleModal()" class="func">
                                        <i class="ion-forward"></i>
                                    </div>
                                    <div ng-click="confDeaf(m.id, m.status.audio.deaf, $event)" class="func">
                                        <i class="ion-volume-mute"></i>
                                    </div>
                                    <div class="func">
                                        
                                        <i class="ion-android-create toggle-hover">
                                            <i class="ion-ios-color-wand-outline up"></i>
                                            <i class="ion-ios-close-empty down"></i>
                                        </i>
                                        
                                    </div>
                                    <div class="func">
                                        <i class="ion-android-volume-down toggle-hover">
                                            <i ng-click="confChangeVolume(m.id, 'up', $event)" class="ion-arrow-up-b up"></i>
                                            <i ng-click="confChangeVolume(m.id, 'down', $event)" class="ion-arrow-down-b down"></i>
                                        </i>
                                    </div>
                                    <div class="func">
                                        <i class="ion-ios-pulse-strong toggle-hover">
                                            <i ng-click="confChangeGain(m.id, 'up', $event)" class="ion-arrow-up-b up"></i>
                                            <i ng-click="confChangeGain(m.id, 'down', $event)" class="ion-arrow-down-b down"></i>
                                        </i>
                                    </div>
                                </div>
                            </div>
                        </ul>
                    </div>
                </div>

                <div ng-show="activeTab == 'c'" class="chat"> 
                    <div class="chat-data">
                        <ul>
                            <li class="clearfix">
                                <div class="message-data align-right">
                                <span class="message-data-time">10:10 AM, Today</span> &nbsp; &nbsp;
                                <span class="message-data-name">Olia</span> <i class="fa fa-circle me"></i>
                                
                                </div>
                                <div class="message other-message float-right">
                                Hi Vincent, how are you? How is the project coming along?
                                </div>
                            </li>
                            
                            <li>
                                <div class="message-data">
                                <span class="message-data-name"><i class="fa fa-circle online"></i> Vincent</span>
                                <span class="message-data-time">10:12 AM, Today</span>
                                </div>
                                <div class="message my-message">
                                Are we meeting today? Project has been already finished and I have results to show you.
                                </div>
                            </li>
                            
                            <li class="clearfix">
                                <div class="message-data align-right">
                                <span class="message-data-time">10:14 AM, Today</span> &nbsp; &nbsp;
                                <span class="message-data-name">Olia</span> <i class="fa fa-circle me"></i>
                                
                                </div>
                                <div class="message other-message float-right">
                                Well I am not sure. The rest of the team is not here yet. Maybe in an hour or so? Have you faced any problems at the last phase of the project?
                                </div>
                            </li>
                            
                            <li>
                                <div class="message-data">
                                <span class="message-data-name"><i class="fa fa-circle online"></i> Vincent</span>
                                <span class="message-data-time">10:20 AM, Today</span>
                                </div>
                                <div class="message my-message">
                                Actually everything was fine. I'm very excited to show this to our team.
                                </div>
                            </li>
                            
                            <li>
                                <div class="message-data">
                                <span class="message-data-name"><i class="fa fa-circle online"></i> Vincent</span>
                                <span class="message-data-time">10:31 AM, Today</span>
                                </div>
                                <i class="fa fa-circle online"></i>
                                <i class="fa fa-circle online" style="color: #AED2A6"></i>
                                <i class="fa fa-circle online" style="color:#DAE9DA"></i>
                            </li>
                            
                        </ul>
                        
                    </div>
                    <div class="chat-action">
                        <div class="chat-message clearfix">
                            <textarea name="message-to-send" id="message-to-send" placeholder ="Type your message" rows="1"></textarea>
                        </div>
                    </div>
                </div>
            </nav>
            <div class="page-wrap">
                <div class="video-menu" ng-class="{'open-video-menu': initPage}">
                    <div class="btn-group">
                        <!--<button id="menu-toggle"></button>-->
                        <a class="btn">
                            <i id="menu-toggle" class="ion-ios-people"></i>
                        </a>

                        <a id="myModal" class="btn">
                            <i class="ion-play"></i>
                        </a>
                        <!--<i class="ion-stop"></i>-->
                        <a class="btn">
                            <i class="ion-ios-recording"></i>
                        </a>
                        <!--<i class="ion-ios-recording-outline"></i>-->
                        <a class="btn">
                            <i class="ion-image"></i>
                        </a>
                        <a class="btn">
                            <select ng-model="data.layout" size="1" autocomplete="off">
                                <option ng-repeat="l in layouts" value="{{l}}">{{l}}</option>                                                                                                                                                     
                            </select>
                            <i class="ion-ios-photos-outline"></i>
                        </a>

                    </div>

                    <div class="btn-group">
                        <a class="btn">
                            <i class="ion-ios-mic"></i>
                        </a>
                        <!--<i class="ion-ios-mic-off"></i>-->
                        <a class="btn">
                            <i class="ion-ios-videocam"></i>
                        </a>
                        <!--<i class="ion-ios-videocam-outline"></i>-->
                        <a class="btn">
                            <i ng-click="toggleFullScreen()" ng-class="{'ion-android-contract': isFullScreen, 'ion-android-expand': !isFullScreen}" ></i>
                        </a>

                        <a class="btn">
                            <i class="ion-ios-chatbubble"></i>
                        </a>

                        <!--<i ng-click="fullScreen(false)" class="ion-android-contract"></i>-->
                        <a class="btn">
                            <i class="ion-ios-keypad"></i>
                        </a>
                    </div>

                    <div class="call-menu">
                        <div class="left">
                            00:00:00
                        </div>
                         <div class="right">
                            Hangup
                        </div>
                    </div>
                </div>
                <div class="container" role="main">
                    <video id="remoteVideoLeft"></video>
                </div>
            </div>

            <!-- The Modal -->
            <modal-dialog show='dialogShown' dialog-title='My Dialog'>
                <form>
                    <input type="text"/>
                    <button>OK</button>
                    <button>Close</button>
                </form>
            </modal-dialog>

        <script type="text/javascript" src="../../lib/angular.min.js"></script>
        <script type="text/javascript" src="../ctrl/video2.js"></script>
    </body>
</html>